{"version":3,"sources":["webpack://one/webpack/runtime/chunk loaded","webpack://one/./src/components/fetchJSON.js","webpack://one/./src/components/hooks/useKeyPress.js","webpack://one/./src/components/SearchBarList.js","webpack://one/./src/components/SearchBar.js","webpack://one/./src/components/hooks/useDebounce.js","webpack://one/./src/components/SearchResultList.js","webpack://one/./src/components/App.js","webpack://one/./src/components/hooks/useStickToTop.js","webpack://one/./src/index.js","webpack://one/webpack/bootstrap","webpack://one/webpack/runtime/compat get default export","webpack://one/webpack/runtime/define property getters","webpack://one/webpack/runtime/global","webpack://one/webpack/runtime/hasOwnProperty shorthand","webpack://one/webpack/runtime/jsonp chunk loading","webpack://one/webpack/startup"],"names":["deferred","remote","actions","query","define","settings","lastFetchPerAction","Object","assign","value","action","queryObj","q","encodeURIComponent","a","queryString","entries","map","entry","join","Promise","res","rej","fetch","then","d","json","error","console","log","useKeyPress","targetKey","useState","keyPressed","setKeyPressed","useEffect","tester","e","key","downHandler","upHandler","window","addEventListener","removeEventListener","test","document","URL","hidden","items","onSelect","parseListItem","useCallback","item","onMouseDown","preventDefault","onClick","word","history","setSearchResult","loading","setLoading","inputValue","setInputValue","debouncedInputValue","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","list","setList","focus","setFocus","inputRef","useRef","enterKey","escKey","downKey","anyKey","ctrlKey","altKey","match","fetchDefinition","length","candidate","toLowerCase","includes","selectCandidate","current","fetchJSON","pathname","location","blur","push","ref","type","placeholder","onChange","target","onFocus","onBlur","className","parseItem","name","definition","slice","indexOf","replace","RegExp","dangerouslySetInnerHTML","__html","filter","searchResult","searchBarContainer","toggler","getBoundingClientRect","height","isOutOfView","top","scrollY","scrollTo","scrollX","hashType","path","render","params","ReactDOM","querySelector","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","n","getter","__esModule","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","179","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"mappings":"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","file":"main.min.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","const actions = {query:2,define:1,settings:0}\nconst lastFetchPerAction = Object.assign({},actions)\n\nlet remote\nif (/^https?:\\/\\/localhost/.test(document.URL)){\n  remote = `http://localhost:3333/json/dict?`\n} else {\n  remote = `https://nextdawn.one:3333/json/dict?`\n}\n\nexport default function ({value,action=\"query\"}) {\n\n  const queryObj = {\n    q: encodeURIComponent(value),\n    a: actions[action],\n  }\n  const queryString = Object.entries(queryObj).map(entry => entry.join(\"=\")).join(\"&\") \n  lastFetchPerAction[action] = queryString\n  return new Promise((res, rej) => {\n    fetch(remote + queryString)\n      .then(d => d.json())\n      .then(d => {\n        if (d.error) {\n          console.log(queryString,d)\n          d = []\n        }\n        //only process the lastest request\n        if (queryString===lastFetchPerAction[action]){\n          res(d)\n        }\n      })\n  })\n}\n","import { useEffect, useState } from \"react\";\r\n\r\nexport default function useKeyPress(targetKey) {\r\n  const [keyPressed, setKeyPressed] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const tester = (e) => {\r\n      if (typeof targetKey === \"function\") {\r\n        return targetKey(e)\r\n      } else {\r\n        return e.key === targetKey\r\n      }\r\n    }\r\n    const downHandler = (e) => {\r\n      tester(e) && setKeyPressed(e.key)\r\n    }\r\n    const upHandler = (e) => {\r\n      tester(e) && setKeyPressed(null)\r\n    }\r\n    window.addEventListener(\"keydown\", downHandler)\r\n    window.addEventListener(\"keyup\", upHandler)\r\n    // Remove event listeners on cleanup\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", downHandler)\r\n      window.removeEventListener(\"keyup\", upHandler)\r\n    }\r\n  }, [])\r\n  return keyPressed\r\n}\r\n","import React, {useCallback} from 'react'\n\nconst SearchBarList = ({hidden,items, onSelect}) => {\n  const parseListItem = useCallback((item,key) => {\n    return (\n      <li onMouseDown={e => e.preventDefault()} onClick={() => onSelect(item)}\n       key={key}>{item}</li>\n    )\n  },[])\n  return (\n    <ul hidden={hidden}>\n      {items.map(parseListItem)} \n    </ul>\n  )\n}\nexport default SearchBarList\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport fetchJSON from './fetchJSON.js'\nimport useDebounce from './hooks/useDebounce'\nimport useKeyPress from './hooks/useKeyPress'\nimport SearchBarList from './SearchBarList'\n\nconst SearchBar = ({ word = \"\", history, setSearchResult }) => {\n  const [loading, setLoading] = useState(false)\n  const [inputValue, setInputValue] = useState(word)\n  const debouncedInputValue = useDebounce(inputValue, 300)\n  const [list, setList] = useState([])\n  const [focus, setFocus] = useState(false)\n  const inputRef = useRef()\n  const enterKey = useKeyPress('Enter')\n  const escKey = useKeyPress('Escape')\n  const downKey = useKeyPress('ArrowDown')\n  const anyKey = useKeyPress(({ ctrlKey, altKey, key }) => {\n    return !ctrlKey && !altKey && key.match(/^[a-z]$/)\n  })\n\n  useEffect(() => {\n    fetchDefinition(debouncedInputValue)\n  }, [])\n\n  useEffect(() => {\n    if (!focus || !enterKey || list.length === 0) { return }\n    const candidate = list[0].toLowerCase()\n    //complete the input from first list item\n    if (candidate.includes(inputValue.toLowerCase())\n        || inputValue.toLowerCase().includes(candidate)) {\n      selectCandidate(list[0])\n    }\n  }, [enterKey])\n\n  useEffect(() => {\n    if (!focus || !downKey || list.length === 0) { return }\n    setInputValue(list[0])\n  }, [downKey])\n\n  useEffect(() => {\n    if (!focus || !escKey) { return }\n    setInputValue(\"\")\n  }, [escKey])\n  \n  //regain focus if anykey is pressed\n  useEffect(() => {\n    if (focus || !anyKey) { return }\n    inputRef.current.focus()\n    setInputValue(anyKey)\n  }, [anyKey])\n\n  //update candidate list\n  useEffect(() => {\n    debouncedInputValue.length > 0\n      ? fetchJSON({ value: debouncedInputValue }).then(setList)\n      : setList([])\n  }, [debouncedInputValue])\n\n  const fetchDefinition = useCallback((word) => {\n    if (word.length == 0) { return }\n    const pathname = \"/\" + word\n    if (history.location.pathname !== pathname) {\n      history.push({ pathname })\n      return\n    }\n    inputRef.current.blur()\n    setLoading(true)\n    fetchJSON({ value: word, action: \"define\" }).then(d => {\n      setSearchResult(d)\n      setLoading(false)\n    })\n  }, [])\n\n  const selectCandidate = useCallback((value) => {\n    setInputValue(value)\n    fetchDefinition(value)\n  }, [])\n\n  return (<>\n    <input ref={inputRef} type=\"text\" placeholder=\"Search\" value={inputValue}\n      onChange={e => setInputValue(e.target.value)}\n      onFocus={() => setFocus(true)} onBlur={() => setFocus(false)} />\n    <SearchBarList hidden={!focus} items={list} onSelect={selectCandidate} />\n    <div hidden={!loading} className=\"spinner\"></div>\n  </>)\n}\nexport default SearchBar\n","import { useState, useEffect } from 'react'\r\n\r\nexport default function useDebounce(value, delay) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value)\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value)\r\n    }, delay)\r\n    return () => {\r\n      clearTimeout(handler)\r\n    }\r\n  }, [value, delay])\r\n\r\n  return debouncedValue\r\n}","import React, {useCallback} from 'react'\n\nconst SearchResultList = ({items}) => {\n  const parseItem = useCallback((item,key) => {\n    let {name, definition} = item\n    if (name===\"WordNet\"){\n      const word = definition.slice(0,definition.indexOf(\"\\n\"))\n      definition = definition.replace(/[\\n\\s]+/g,\" \") //remove \\n and \\s\n        .replace(/\\b(\\d+:)/g,\"<br><b>$1</b>\") //insert \\n at start of every numbered definition\n        .replace(/\\(p\\)\\}/g,\"}\") //remove unknown (p) tag \n        .replace(/\\{([^}]+)\\}/g,\"<a href='#$1'>$1</a>\") //insert redirect hash link\n        .replace(/\\[(syn|ant):/g,\"<br>[$1:\") //new line at the start of hash links\n        .replace(new RegExp(`\\n${word}`,\"g\"),\"<br><br>\"+word) \n    }\n    if (name===\"English for Learners\"){\n      definition = definition.replace(/bword:\\/\\//g,\"#\")\n    }\n    if (name===\"Thesaurus English\"){\n      definition = definition.replace(/\\n/g,\"<br>\")\n    }\n    return definition && <div className=\"card\" key={key} >\n      <h6 className=\"card-title\">{name}</h6>\n      <div dangerouslySetInnerHTML={{__html:definition}}></div>\n    </div>\n  },[])\n  return (<>\n    {items.map(parseItem).filter(d => d)}\n  </>)\n}\nexport default SearchResultList\n","import React, {useState, useEffect} from 'react'\nimport {HashRouter, Route} from 'react-router-dom'\nimport SearchBar from './SearchBar'\nimport SearchResultList from './SearchResultList'\nimport useStickToTop from './hooks/useStickToTop'\n\nconst App = () => {\n  const [searchResult,setSearchResult] = useState([])\n  const searchBarContainer = useStickToTop()\n  \n  useEffect(() => {\n    console.log(\"App mounted.\")\n  },[])\n\n  useEffect(() => {\n    //scroll to top when result changes \n    scrollTo(scrollX,0)\n  }, [searchResult])\n\n\n  function SearchBarRoute({match:{params:{word=\"\"}}, history}){\n    return (\n      <SearchBar key={word} word={word} history={history} setSearchResult={setSearchResult} />\n    )\n  }\n\n  return (<>\n    <section>\n      <header>\n        <h4>Dictionaries</h4>\n      </header>\n    </section>\n    <section ref={searchBarContainer}>\n      <div className=\"search-bar\">\n          <HashRouter hashType=\"noslash\">\n            <Route path={[\"/:word\",\"/\"]} render={SearchBarRoute}></Route>\n          </HashRouter>\n      </div>\n    </section>\n    <section className=\"result\">\n        <SearchResultList items={searchResult}/>\n    </section>\n  </>)\n}\nexport default App\n","\r\nimport { useEffect, useRef } from \"react\"\r\n\r\n//this toggle fixed class on a useRef object\r\nexport default () => {\r\n  const ref = useRef(null)\r\n  useEffect(() => {\r\n    const toggler = e => {\r\n      const { height, top } = ref.current.getBoundingClientRect()\r\n      const isOutOfView = top <= 0 && scrollY >= height\r\n      ref.current.className = `search${isOutOfView ? \" fixed\" : \"\"}`\r\n    }\r\n    addEventListener(\"scroll\", toggler)\r\n    return () => {\r\n      removeEventListener(\"scroll\",toggler)\r\n    }\r\n  }, [])\r\n\r\n  return ref\r\n}","'use strict';\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\n\nReactDOM.render(<App />, document.querySelector('main'));\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkone\"] = self[\"webpackChunkone\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], function() { return __webpack_require__(906); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}