!function(){"use strict";var e,n={828:function(e,n,t){var r,o=t(294),a=t(935),i=t(727),c=t(977),u={query:2,define:1,settings:0},l=Object.assign({},u);function f(e){var n=e.value,t=e.action,o=void 0===t?"query":t,a={q:encodeURIComponent(n),a:u[o]},i=Object.entries(a).map((function(e){return e.join("=")})).join("&");return l[o]=i,new Promise((function(e,n){fetch(r+i).then((function(e){return e.json()})).then((function(n){n.error&&(console.log(i,n),n=[]),i===l[o]&&e(n)}))}))}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=0;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){return e.apply(void 0,o)}),n)}}r=/^https?:\/\/localhost/.test(document.URL)?"http://localhost:3333/json/dict?":"https://nextdawn.one:3333/json/dict?";var d=function(e){var n=e.items,t=e.onSelect;return o.createElement("ul",null,n.map((function(e,n){return o.createElement("li",{onMouseDown:function(e){return e.preventDefault()},onClick:function(){return t(e)},key:n},e)})))};function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}}(e,n)||function(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var p=function(e){var n=e.word,t=e.history,r=e.setSearchResult,a=m((0,o.useState)(!1),2),i=a[0],c=a[1],u=m((0,o.useState)(n),2),l=u[0],h=u[1],p=m((0,o.useState)([]),2),v=p[0],y=p[1];(0,o.useEffect)((function(){l.length>0&&b(l)}),[]);var g=(0,o.useCallback)(s((function(e){0!==e.length&&f({value:e}).then(y)}),200),[]),b=(0,o.useCallback)(s((function(e){var n="/"+e;t.location.pathname===n?(c(!0),h(e),y([]),f({value:e,action:"define"}).then((function(e){r(e),c(!1)}))):t.push({pathname:n})}),100),[]);return o.createElement(o.Fragment,null,o.createElement("input",{type:"text",placeholder:"Search",value:l,onKeyDown:function(e){var n=e.key;"Enter"===n&&(n=l,v[0]?n=v[0]:g(""),b(n))},onChange:function(e){var n=e.target.value;h(n),g(n),0===n.length&&y([])},onFocus:function(){l.length>0&&0===v.length&&g(l)},onBlur:function(){return y([])}}),o.createElement(d,{items:v,onSelect:b}),o.createElement("div",{hidden:!i,className:"spinner"}))},v=function(e){var n=e.items;return o.createElement(o.Fragment,null,n.map((function(e,n){if("WordNet"===e.name){var t=e.definition.slice(0,e.definition.indexOf("\n"));e.definition=e.definition.replace(/[\n\s]+/g," ").replace(/\b(\d+:)/g,"<br><b>$1</b>").replace(/\(p\)\}/g,"}").replace(/\{([^}]+)\}/g,"<a href='#$1'>$1</a>").replace(/\[(syn|ant):/g,"<br>[$1:").replace(new RegExp("\n".concat(t),"g"),"<br><br>"+t)}return"English for Learners"===e.name&&(e.definition=e.definition.replace(/bword:\/\//g,"#")),"Thesaurus English"===e.name&&(e.definition=e.definition.replace(/\n/g,"<br>")),e.definition&&o.createElement("div",{className:"card",key:n},o.createElement("h6",{className:"card-title"},e.name),o.createElement("div",{dangerouslySetInnerHTML:{__html:e.definition}}))})).filter((function(e){return e})))};function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var g=function(){var e,n,t=(e=(0,o.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}}(e,n)||function(e,n){if(e){if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],a=t[1],u=(0,o.useRef)(null);return(0,o.useEffect)((function(){addEventListener("scroll",(function(e){var n=u.current.getBoundingClientRect(),t=n.height,r=n.top<=0&&scrollY>=t;u.current.className="search".concat(r?" fixed":"")})),console.log("App mounted.")}),[]),(0,o.useEffect)((function(){scrollTo(scrollX,0)}),[r]),o.createElement(o.Fragment,null,o.createElement("section",null,o.createElement("header",null,o.createElement("h4",null,"Dictionaries"))),o.createElement("section",{ref:u},o.createElement("div",{className:"search-bar"},o.createElement(i.UT,{hashType:"noslash"},o.createElement(c.AW,{path:["/:word","/"],render:function(e){var n=e.match.params.word,t=void 0===n?"":n,r=e.history;return o.createElement(p,{key:t,word:t,history:r,setSearchResult:a})}})))),o.createElement("section",{className:"result"},o.createElement(v,{items:r})))};a.render(o.createElement(g,null),document.querySelector("main"))}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,e=[],r.O=function(n,t,o,a){if(!t){var i=1/0;for(l=0;l<e.length;l++){t=e[l][0],o=e[l][1],a=e[l][2];for(var c=!0,u=0;u<t.length;u++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](t[u])}))?t.splice(u--,1):(c=!1,a<i&&(i=a));c&&(e.splice(l--,1),n=o())}return n}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[t,o,a]},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={179:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,a,i=t[0],c=t[1],u=t[2],l=0;for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var f=u(r);for(n&&n(t);l<i.length;l++)a=i[l],r.o(e,a)&&e[a]&&e[a][0](),e[i[l]]=0;return r.O(f)},t=self.webpackChunkone=self.webpackChunkone||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var o=r.O(void 0,[216],(function(){return r(828)}));o=r.O(o)}();
//# sourceMappingURL=main.min.js.map