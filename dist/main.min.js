!function(){"use strict";var e,t={906:function(e,t,n){var r,o=n(294),a=n(935),u=n(727),i=n(977),c={query:2,define:1,settings:0},l=Object.assign({},c);function f(e){var t=e.value,n=e.action,o=void 0===n?"query":n,a={q:encodeURIComponent(t),a:c[o]},u=Object.entries(a).map((function(e){return e.join("=")})).join("&");return l[o]=u,new Promise((function(e,t){fetch(r+u).then((function(e){return e.json()})).then((function(t){t.error&&(console.log(u,t),t=[]),u===l[o]&&e(t)}))}))}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n,r=(t=(0,o.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],u=r[1];return(0,o.useEffect)((function(){var t=function(t){return"function"==typeof e?e(t):t.key===e},n=function(e){t(e)&&u(e.key)},r=function(e){t(e)&&u(null)};return window.addEventListener("keydown",n),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)}}),[]),a}r=/^https?:\/\/localhost/.test(document.URL)?"http://localhost:3333/json/dict?":"https://nextdawn.one:3333/json/dict?";var y=function(e){var t=e.hidden,n=e.items,r=e.onSelect,a=(0,o.useCallback)((function(e,t){return o.createElement("li",{onMouseDown:function(e){return e.preventDefault()},onClick:function(){return r(e)},key:t},e)}),[]);return o.createElement("ul",{hidden:t},n.map(a))};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.word,n=void 0===t?"":t,r=e.history,a=e.setSearchResult,u=h((0,o.useState)(!1),2),i=u[0],c=u[1],l=h((0,o.useState)(n),2),d=l[0],v=l[1],p=function(e,t){var n,r,a=(n=(0,o.useState)(e),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(n,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],i=a[1];return(0,o.useEffect)((function(){var t=setTimeout((function(){i(e)}),300);return function(){clearTimeout(t)}}),[e,300]),u}(d),b=h((0,o.useState)([]),2),g=b[0],E=b[1],w=h((0,o.useState)(!1),2),S=w[0],j=w[1],A=(0,o.useRef)(),O=m("Enter"),k=m("Escape"),C=m("ArrowDown"),I=m((function(e){var t=e.ctrlKey,n=e.altKey,r=e.key;return!t&&!n&&r.match(/^[a-z]$/)}));(0,o.useEffect)((function(){x(p)}),[]),(0,o.useEffect)((function(){if(S&&O&&0!==g.length){var e=g[0].toLowerCase();(e.includes(d.toLowerCase())||d.toLowerCase().includes(e))&&T(g[0])}}),[O]),(0,o.useEffect)((function(){S&&C&&0!==g.length&&v(g[0])}),[C]),(0,o.useEffect)((function(){S&&k&&v("")}),[k]),(0,o.useEffect)((function(){!S&&I&&(A.current.focus(),v(I))}),[I]),(0,o.useEffect)((function(){p.length>0?f({value:p}).then(E):E([])}),[p]);var x=(0,o.useCallback)((function(e){if(0!=e.length){var t="/"+e;r.location.pathname===t?(A.current.blur(),c(!0),f({value:e,action:"define"}).then((function(e){a(e),c(!1)}))):r.push({pathname:t})}}),[]),T=(0,o.useCallback)((function(e){v(e),x(e)}),[]);return o.createElement(o.Fragment,null,o.createElement("input",{ref:A,type:"text",placeholder:"Search",value:d,onChange:function(e){return v(e.target.value)},onFocus:function(){return j(!0)},onBlur:function(){return j(!1)}}),o.createElement(y,{hidden:!S,items:g,onSelect:T}),o.createElement("div",{hidden:!i,className:"spinner"}))},b=function(e){var t=e.items,n=(0,o.useCallback)((function(e,t){var n=e.name,r=e.definition;if("WordNet"===n){var a=r.slice(0,r.indexOf("\n"));r=r.replace(/[\n\s]+/g," ").replace(/\b(\d+:)/g,"<br><b>$1</b>").replace(/\(p\)\}/g,"}").replace(/\{([^}]+)\}/g,"<a href='#$1'>$1</a>").replace(/\[(syn|ant):/g,"<br>[$1:").replace(new RegExp("\n".concat(a),"g"),"<br><br>"+a)}return"English for Learners"===n&&(r=r.replace(/bword:\/\//g,"#")),"Thesaurus English"===n&&(r=r.replace(/\n/g,"<br>")),r&&o.createElement("div",{className:"card",key:t},o.createElement("h6",{className:"card-title"},n),o.createElement("div",{dangerouslySetInnerHTML:{__html:r}}))}),[]);return o.createElement(o.Fragment,null,t.map(n).filter((function(e){return e})))};function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(){var e,t,n,r=(t=(0,o.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],c=r[1],l=(e=(0,o.useRef)(null),(0,o.useEffect)((function(){var t=function(t){var n=e.current.getBoundingClientRect(),r=n.height,o=n.top<=0&&scrollY>=r;e.current.className="search".concat(o?" fixed":"")};return addEventListener("scroll",t),function(){removeEventListener("scroll",t)}}),[]),e);return(0,o.useEffect)((function(){console.log("App mounted.")}),[]),(0,o.useEffect)((function(){scrollTo(scrollX,0)}),[a]),o.createElement(o.Fragment,null,o.createElement("section",null,o.createElement("header",null,o.createElement("h4",null,"Dictionaries"))),o.createElement("section",{ref:l},o.createElement("div",{className:"search-bar"},o.createElement(u.UT,{hashType:"noslash"},o.createElement(i.AW,{path:["/:word","/"],render:function(e){var t=e.match.params.word,n=void 0===t?"":t,r=e.history;return o.createElement(p,{key:n,word:n,history:r,setSearchResult:c})}})))),o.createElement("section",{className:"result"},o.createElement(b,{items:a})))};a.render(o.createElement(E,null),document.querySelector("main"))}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,o,a){if(!n){var u=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],a=e[l][2];for(var i=!0,c=0;c<n.length;c++)(!1&a||u>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(i=!1,a<u&&(u=a));i&&(e.splice(l--,1),t=o())}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,o,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={179:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,u=n[0],i=n[1],c=n[2],l=0;for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var f=c(r);for(t&&t(n);l<u.length;l++)a=u[l],r.o(e,a)&&e[a]&&e[a][0](),e[u[l]]=0;return r.O(f)},n=self.webpackChunkone=self.webpackChunkone||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[216],(function(){return r(906)}));o=r.O(o)}();
//# sourceMappingURL=main.min.js.map